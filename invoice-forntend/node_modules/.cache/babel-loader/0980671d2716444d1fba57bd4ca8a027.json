{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ammad\\\\Desktop\\\\invoice-forntend\\\\src\\\\Pages\\\\Prescription\\\\Prescription.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  REACT_APP_SERVER_URL,\n  TRN,\n  CLINIC_ADDRESS,\n  CLINIC_NAME,\n  CLINIC_EMAIL,\n  POWERED_BY\n} = window.env;\n\nclass Prescription extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isValidId = id => {\n      if (!id) {\n        alert('Please enter Patient Id first');\n        return false;\n      }\n\n      if (isNaN(id)) {\n        alert('Please enter a valid Patient Id');\n        return false;\n      }\n\n      return true;\n    };\n\n    this.onInputchange = event => {\n      this.setState({\n        [event.target.name]: parseInt(event.target.value),\n        patient: {}\n      });\n    };\n\n    this.onPrescriptionInputchange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.changePatient = patient => {\n      this.setState({\n        patientId: patient.patientcode,\n        patient: patient\n      });\n    };\n\n    this.showPatientList = e => {\n      e.preventDefault();\n      this.setState({\n        showPatientList: true,\n        showInvoiceList: false\n      });\n    };\n\n    this.showPrescriptionTemplate = async () => {\n      const patientId = this.state.patientId;\n\n      if (Object.keys(this.state.doctor).length < 1 || this.state.doctor.fullname.length < 1) {\n        alert(\"Please select doctor first.\");\n        return;\n      }\n\n      if (this.state.patientId && typeof this.state.patientId === 'number' && this.state.patientId > 0) {\n        let res = null;\n        res = await axios.get(REACT_APP_SERVER_URL + 'getPrescriptionDetails?patientId=' + patientId);\n\n        if (res.data && res.data.patientDetails && res.data.patientDetails.length > 0) {\n          this.setState({\n            showPatientList: false,\n            patient: res.data.patientDetails[0],\n            drugs: res.data.drugs,\n            routes: res.data.routes,\n            frequencies: res.data.frequencies,\n            drugDetails: Object.assign({}, this.drugDetailsTemplate),\n            drugRows: []\n          });\n        } else {\n          alert(\"No Patient exists against this code\");\n        }\n      } else {\n        alert(\"Patient Code must be a number\");\n      }\n    };\n\n    this.validateDrugDetails = () => {\n      let {\n        drugDetails\n      } = this.state;\n\n      if (drugDetails.drugId < 1 || drugDetails.drug.length < 1) {\n        alert('Drug cannot be left blank');\n        return;\n      }\n\n      if (drugDetails.frequencyId < 1 || drugDetails.frequency.length < 1) {\n        alert('Frequency cannot be left blank');\n        return;\n      }\n\n      if (drugDetails.routeId < 1 || drugDetails.route.length < 1) {\n        alert('Route cannot be left blank');\n        return;\n      }\n\n      if (drugDetails.dosage.length < 1) {\n        alert('Dosage cannot be less than 1 or left blank');\n        return;\n      }\n\n      if (drugDetails.duration.length < 1) {\n        alert('Duration cannot be less than 1 or left blank');\n        return;\n      }\n\n      this.addDrugDetails();\n    };\n\n    this.addDrugDetails = () => {\n      let drugRows = this.state.drugRows;\n      drugRows.push(Object.assign({}, this.state.drugDetails));\n      this.setState({\n        drugRows: drugRows,\n        drugDetails: Object.assign({}, this.drugDetailsTemplate),\n        showPrintButton: true\n      });\n    };\n\n    this.setField = (e, keyName) => {\n      let {\n        drugDetails\n      } = this.state;\n\n      if (e.target.className === 'form-select') {\n        drugDetails[keyName] = e.target.selectedOptions[0].text;\n        drugDetails[keyName + 'Id'] = e.target.value;\n      } else {\n        drugDetails[keyName] = e.target.value;\n      }\n\n      this.setState({\n        drugDetails: drugDetails\n      });\n    };\n\n    this.validatePrescription = () => {\n      if (this.state.drugRows.length < 1) {\n        alert('Add atleast one drug to generate prescription');\n        return;\n      }\n\n      if (!this.state.patient || this.state.patient.patientcode < 1 || this.state.patient.patientname.length < 1) {\n        alert('Patient Name or Id cannot cannot be left blank');\n        return;\n      }\n\n      let axiosConfig = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      let prescription = {\n        patientId: this.state.patient.patientcode,\n        patientName: this.state.patient.patientname,\n        doctor: this.state.doctor.fullname,\n        drCode: this.state.doctor.usercode,\n        drugDetail: this.state.drugRows,\n        diagnosis: this.state.diagnosis,\n        patientInstruction: this.state.patientInstruction\n      };\n      axios.post(REACT_APP_SERVER_URL + 'savePrescription', prescription, axiosConfig).then(res => {\n        console.log(\"RESPONSE RECEIVED: \", res);\n        const now = new Date();\n        document.title = JSON.parse(res.config.data)['patientId'] + \"-\" + now.getUTCFullYear().toString() + \"-\" + (now.getUTCMonth() + 1).toString() + \"-\" + now.getUTCDate();\n        this.setState({\n          showPrintButton: false\n        });\n        window.print();\n      }).catch(err => {\n        console.log(\"AXIOS ERROR: \", err);\n      });\n    };\n\n    this.getAge = dateString => {\n      var birthday = new Date(dateString);\n      return (Date.now() - birthday) / 31557600000;\n    };\n\n    this.setDoctor = name => {\n      let doctors = this.state.doctorList.filter(function (dr) {\n        return name === dr.fullname;\n      });\n      this.setState({\n        doctor: doctors[0]\n      });\n    };\n\n    this.drugDetailsTemplate = {\n      drugId: 0,\n      drug: '',\n      dosage: '',\n      frequencyId: 0,\n      frequency: '',\n      routeId: 0,\n      route: '',\n      duration: '',\n      instructions: ''\n    };\n    this.state = {\n      dated: new Date().toLocaleString(),\n      patient: {},\n      showPatientList: true,\n      doctor: {},\n      diagnosis: '',\n      patientInstruction: '',\n      routes: [],\n      drugs: [],\n      frequencies: [],\n      drugRows: [],\n      drugDetails: Object.assign({}, this.drugDetailsTemplate),\n      showPrintButton: true\n    };\n  }\n\n  componentDidMount() {\n    axios.get(REACT_APP_SERVER_URL + 'getPatientsAndDoctors').then(res => {\n      if (res.data) {\n        if (res.data.doctors && res.data.doctors.length > 0) {\n          this.setState({\n            doctorList: res.data.doctors\n          });\n        } else {\n          alert('No Doctor found.');\n          return;\n        }\n\n        if (res.data.patients && res.data.patients.length > 0) {\n          this.setState({\n            patientList: res.data.patients\n          });\n        } else {\n          alert('No Patient found.');\n        }\n      } else {\n        alert(\"Backend Service failed to respond\");\n      }\n    }, error => {\n      alert(\"Backend Service failed to respond\");\n      console.log('error : ', error);\n    });\n  }\n\n  render() {\n    // const dated = this.state.dated;\n    const patientList = this.state.patientList; // const showPatientList = this.state.showPatientList;\n\n    const {\n      patientId,\n      patient,\n      doctor,\n      drugs,\n      routes,\n      frequencies,\n      drugRows,\n      drugDetails,\n      showPatientList,\n      doctorList,\n      showPrintButton\n    } = this.state;\n    const drugList = drugs ? drugs.map((drg, key) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: drg.drugId,\n        title: drg.formula,\n        children: drg.drugName\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this);\n    }) : null;\n    const routeList = routes ? routes.map((rt, key) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: rt.routeId,\n        title: rt.code,\n        children: rt.route\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this);\n    }) : null;\n    const frequencyList = frequencies ? frequencies.map((fr, key) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: fr.frequencyId,\n        children: fr.frequency\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this);\n    }) : null;\n    const doctorListHtml = doctorList ? doctorList.map((dr, key) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: dr.fullname,\n        children: dr.fullname\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this);\n    }) : null;\n    const drugRowsHtml = drugRows.map((drg, key) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: drg.drug\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: drg.dosage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: drg.frequency\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: drg.route\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: drg.duration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: drg.instructions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this);\n    });\n    let patients = patientList ? patientList.map((pat, key) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          onClick: () => this.changePatient(pat),\n          className: \"link\",\n          children: pat.patientcode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: pat.patientname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: pat.gender === 'M' ? 'Male' : 'Female'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: pat.dob\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this);\n    }) : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"receipt_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + \"/logo.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prescription-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"form_section no-print\",\n          children: [showPatientList ? /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center\",\n            children: \"Prescription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 32\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"form-input w-auto\",\n            placeholder: \"Enter Patient Code\",\n            name: \"patientId\",\n            type: \"number\",\n            value: patientId,\n            onChange: e => this.onInputchange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select select-doctor w-auto\",\n            value: doctor.fullname ? doctor.fullname : '',\n            onChange: e => this.setDoctor(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              disabled: true,\n              selected: true,\n              value: \"\",\n              children: \"Select Doctor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), doctorListHtml]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: e => this.showPrescriptionTemplate(),\n            children: \"Generate Prescription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), showPatientList ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary ml-10\",\n            onClick: e => this.getInvoiceListByPatient(e),\n            children: \"Get Prescriptions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary ml-10\",\n            onClick: e => this.showPatientList(e),\n            children: \"Show Patient List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), patients && showPatientList ? /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"patient-list\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-bordered\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Patient Id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Patient Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"DOB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: patients\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this) : '', !showPatientList ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"patient_detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center\",\n              children: \"Prescription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center mb-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6 col-md-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Patient:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: patient.patientname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Doctor:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: doctor.fullname ? doctor.fullname : ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"DOB:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: new Date(patient.dob).toLocaleDateString(\"en-UK\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Email:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 25\n                  }, this), \"-                       \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: patient.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Mobile No:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: patient.mobileno\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-6 col-md-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Patient Code:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: patient.patientcode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Gender:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: patient.gender === 'M' ? 'Male' : patient.gender === 'F' ? 'Female' : 'Unknown'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: new Date().toLocaleDateString(\"en-UK\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"col-sm-4 col-md-4\",\n                    children: \"Age:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"col-sm-8 col-md-4\",\n                    children: Math.round(this.getAge(patient.dob))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container no-print\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"page-title\",\n              children: \"Add Drugs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row execute_container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Drug\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  class: \"form-select\",\n                  value: drugDetails.drugId > 0 ? drugDetails.drugId : 0,\n                  onChange: e => this.setField(e, 'drug'),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    selected: true,\n                    value: \"0\",\n                    children: \"Select Drug\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 25\n                  }, this), drugList]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup col-md-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Dosage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"any\",\n                  placeholder: \"Quantity\",\n                  value: drugDetails.dosage,\n                  onChange: e => this.setField(e, 'dosage')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup col-md-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Frequency\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  class: \"form-select\",\n                  value: drugDetails.frequencyId > 0 ? drugDetails.frequencyId : 0,\n                  onChange: e => this.setField(e, 'frequency'),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    selected: true,\n                    children: \"Select Frequency\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 25\n                  }, this), frequencyList]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup col-md-3\",\n                onChange: e => this.setField(e, 'route'),\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Route\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  class: \"form-select\",\n                  value: drugDetails.routeId > 0 ? drugDetails.routeId : 0,\n                  onChange: e => this.setField(e, 'route'),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    selected: true,\n                    children: \"Select Route\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this), routeList]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup col-md-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Duration\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"any\",\n                  value: drugDetails.duration,\n                  placeholder: \"Days\",\n                  onChange: e => this.setField(e, 'duration')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Instructions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  class: \"form-control rounded-0\",\n                  value: drugDetails.instructions,\n                  onChange: e => this.setField(e, 'instructions')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputGroup offset-md-5 col-md-2 d-flex justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary ml-10\",\n                  onClick: e => this.validateDrugDetails(),\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"drug_detail mb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-bordered\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Drug\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Dosage\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Frequency\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Route\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Duration\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Instructions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: drugRowsHtml\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputGroup col-sm-4 col-md-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Diagnosis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"diagnosis\",\n                value: this.state.diagnosis,\n                placeholder: \"Diagnosis\",\n                onChange: this.onPrescriptionInputchange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputGroup col-sm-8 col-md-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Patient Instructions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                class: \"form-control rounded-0\",\n                name: \"patientInstruction\",\n                value: this.state.patientInstruction,\n                onChange: this.onPrescriptionInputchange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"payment_detail mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"col-sm-2 col-md-1 text-end\",\n                children: \"Provider:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"col-sm-4 col-md-3 text-start\",\n                children: doctor.fullname ? doctor.fullname : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"col-sm-2 col-md-1 text-end\",\n                children: \"Licence No:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"col-sm-4 col-md-3 text-start\",\n                children: doctor.licence ? doctor.licence : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-center\",\n              children: CLINIC_NAME\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-center\",\n              children: CLINIC_ADDRESS\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-center\",\n              children: CLINIC_EMAIL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-end\",\n              children: [\"Powered by \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: \"DigiSol Ltd.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 60\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 17\n          }, this), showPrintButton ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row no-print justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-2 col-md-2 d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                onClick: e => this.validatePrescription(),\n                children: \"Save & Print\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 19\n          }, this) : null]\n        }, void 0, true) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Prescription;","map":{"version":3,"sources":["C:/Users/Ammad/Desktop/invoice-forntend/src/Pages/Prescription/Prescription.js"],"names":["React","Component","axios","REACT_APP_SERVER_URL","TRN","CLINIC_ADDRESS","CLINIC_NAME","CLINIC_EMAIL","POWERED_BY","window","env","Prescription","constructor","props","isValidId","id","alert","isNaN","onInputchange","event","setState","target","name","parseInt","value","patient","onPrescriptionInputchange","changePatient","patientId","patientcode","showPatientList","e","preventDefault","showInvoiceList","showPrescriptionTemplate","state","Object","keys","doctor","length","fullname","res","get","data","patientDetails","drugs","routes","frequencies","drugDetails","assign","drugDetailsTemplate","drugRows","validateDrugDetails","drugId","drug","frequencyId","frequency","routeId","route","dosage","duration","addDrugDetails","push","showPrintButton","setField","keyName","className","selectedOptions","text","validatePrescription","patientname","axiosConfig","headers","prescription","patientName","drCode","usercode","drugDetail","diagnosis","patientInstruction","post","then","console","log","now","Date","document","title","JSON","parse","config","getUTCFullYear","toString","getUTCMonth","getUTCDate","print","catch","err","getAge","dateString","birthday","setDoctor","doctors","doctorList","filter","dr","instructions","dated","toLocaleString","componentDidMount","patients","patientList","error","render","drugList","map","drg","key","formula","drugName","routeList","rt","code","frequencyList","fr","doctorListHtml","drugRowsHtml","pat","gender","dob","process","PUBLIC_URL","getInvoiceListByPatient","toLocaleDateString","email","mobileno","Math","round","licence"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from 'axios';\n\nconst {REACT_APP_SERVER_URL, TRN, CLINIC_ADDRESS, CLINIC_NAME, CLINIC_EMAIL, POWERED_BY} = window.env;\nclass Prescription extends Component {\n  constructor(props) {\n    super(props);\n    this.drugDetailsTemplate = {\n      drugId: 0,\n      drug: '',\n      dosage: '',\n      frequencyId: 0,\n      frequency: '',\n      routeId: 0,\n      route: '',\n      duration: '',\n      instructions: ''\n    };\n    this.state = {\n      dated: new Date().toLocaleString(),\n\t\t\tpatient: {},\n      showPatientList: true,\n      doctor: {},\n      diagnosis: '',\n      patientInstruction: '',\n      routes: [],\n      drugs: [],\n      frequencies: [],\n      drugRows: [],\n      drugDetails: Object.assign({},this.drugDetailsTemplate),\n      showPrintButton: true\n    };\n  }\n\n  isValidId = (id) => {\n    if(!id) {\n      alert('Please enter Patient Id first');\n      return false;\n    }\n    if(isNaN(id)) {\n      alert('Please enter a valid Patient Id');\n      return false;\n    }\n    return true;\n  }\n\n  onInputchange=(event)=> {\n    this.setState({\n      [event.target.name]: parseInt(event.target.value),\n      patient: {}\n    });\n  }\n\n  onPrescriptionInputchange=(event)=> {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    axios.get(REACT_APP_SERVER_URL + 'getPatientsAndDoctors')\n      .then(res => {\n        if(res.data) {\n          if(res.data.doctors && res.data.doctors.length > 0) {\n            this.setState({doctorList : res.data.doctors});\n          } else {\n            alert('No Doctor found.');\n            return;\n          }\n          if(res.data.patients && res.data.patients.length > 0) {\n            this.setState({patientList : res.data.patients});\n          } else {\n            alert('No Patient found.');\n          }\n        } else {\n          alert(\"Backend Service failed to respond\");\n        }\n      }, (error)=> {\n        alert(\"Backend Service failed to respond\");\n        console.log('error : ', error);\n      }\n    );\n  }\n\n  changePatient = (patient)=> {\n    this.setState({patientId : patient.patientcode, patient: patient});\n  }\n\n  showPatientList = (e) => {\n    e.preventDefault();\n    this.setState({\n      showPatientList : true,\n      showInvoiceList: false\n    });\n  }\n\n\tshowPrescriptionTemplate = async() => {\n\t\tconst patientId = this.state.patientId;\n    if(Object.keys(this.state.doctor).length < 1 || this.state.doctor.fullname.length < 1) {\n      alert(\"Please select doctor first.\");\n      return;\n    }\n\t\tif(this.state.patientId && typeof this.state.patientId === 'number' && this.state.patientId > 0) {\n\n      let res = null;\n      res = await\taxios.get(REACT_APP_SERVER_URL + 'getPrescriptionDetails?patientId=' + patientId);\n      if(res.data && res.data.patientDetails && res.data.patientDetails.length > 0) {\n        this.setState({\n          showPatientList : false,\n          patient: res.data.patientDetails[0],\n          drugs: res.data.drugs,\n          routes: res.data.routes,\n          frequencies: res.data.frequencies,\n          drugDetails: Object.assign({},this.drugDetailsTemplate),\n          drugRows: []\n        });\n      } else {\n        alert(\"No Patient exists against this code\");\n      } \n    } else {\n\t\t\talert(\"Patient Code must be a number\");\n\t\t}\n\t\t\n\t}\n\n  validateDrugDetails = () => {\n    let {drugDetails} = this.state;\n    if(drugDetails.drugId < 1 || drugDetails.drug.length < 1 ) {\n      alert('Drug cannot be left blank');\n      return;\n    }\n    if(drugDetails.frequencyId < 1 || drugDetails.frequency.length < 1 ) {\n      alert('Frequency cannot be left blank');\n      return;\n    }\n    if(drugDetails.routeId < 1 || drugDetails.route.length < 1 ) {\n      alert('Route cannot be left blank');\n      return;\n    }\n    if(drugDetails.dosage.length < 1 ) {\n      alert('Dosage cannot be less than 1 or left blank');\n      return;\n    }\n    if(drugDetails.duration.length < 1 ) {\n      alert('Duration cannot be less than 1 or left blank');\n      return;\n    }\n    this.addDrugDetails();\n  }\n\n  addDrugDetails = () => {\n    let drugRows = this.state.drugRows;\n    drugRows.push(Object.assign({},this.state.drugDetails));\n    this.setState({\n      drugRows: drugRows,\n      drugDetails: Object.assign({},this.drugDetailsTemplate),\n      showPrintButton:true\n    });\n  }\n\n  setField = (e, keyName) => {\n    let {drugDetails} = this.state;\n    if(e.target.className === 'form-select') {\n      drugDetails[keyName] = e.target.selectedOptions[0].text;\n      drugDetails[keyName+'Id'] = e.target.value\n    } else{\n      drugDetails[keyName] = e.target.value;\n    }\n    this.setState({ drugDetails: drugDetails });\n  };\n\n  validatePrescription = () => {\n    if(this.state.drugRows.length < 1 ) {\n      alert('Add atleast one drug to generate prescription');\n      return;\n    }\n    if(!this.state.patient || this.state.patient.patientcode < 1 || this.state.patient.patientname.length < 1) {\n      alert('Patient Name or Id cannot cannot be left blank');\n      return;\n    }\n    let axiosConfig = {\n      headers: {\n          'Content-Type': 'application/json'\n      }\n    };\n    let prescription = {\n      patientId: this.state.patient.patientcode,\n      patientName: this.state.patient.patientname,\n      doctor: this.state.doctor.fullname,\n      drCode: this.state.doctor.usercode,\n      drugDetail: this.state.drugRows,\n      diagnosis: this.state.diagnosis,\n      patientInstruction: this.state.patientInstruction\n    }\n    axios.post(REACT_APP_SERVER_URL + 'savePrescription', prescription, axiosConfig)\n    .then((res) => {\n      console.log(\"RESPONSE RECEIVED: \", res);\n      const now = new Date();\n      document.title = JSON.parse(res.config.data)['patientId'] + \"-\" + now.getUTCFullYear().toString() + \"-\" +(now.getUTCMonth() + 1).toString() +\"-\" + now.getUTCDate();\n      this.setState({showPrintButton: false});\n      window.print();\n    })\n    .catch((err) => {\n      console.log(\"AXIOS ERROR: \", err);\n    })\n  }\n\n  getAge = (dateString) => {\n    var birthday = new Date(dateString);\n    return ((Date.now() - birthday) / (31557600000));\n  }\n\n  setDoctor = (name) => {\n    let doctors = this.state.doctorList.filter(function(dr){\n      return name === dr.fullname;\n    });\n    this.setState({doctor: doctors[0]});\n  }\n\n  render() {\n    // const dated = this.state.dated;\n    const patientList = this.state.patientList;\n    // const showPatientList = this.state.showPatientList;\n\t\tconst {patientId, patient, doctor, drugs, routes, frequencies, drugRows, drugDetails, showPatientList, doctorList, showPrintButton} = this.state;\n    const drugList = drugs ? drugs.map((drg, key) => {\n      return(\n        <option key={key} value={drg.drugId} title={drg.formula}>{drg.drugName}</option>\n      )\n    }) : null;\n    const routeList = routes ? routes.map((rt, key) => {\n      return(\n        <option key={key} value={rt.routeId} title={rt.code}>{rt.route}</option>\n      )\n    }) : null;\n    const frequencyList = frequencies ? frequencies.map((fr, key) => {\n      return(\n        <option key={key} value={fr.frequencyId}>{fr.frequency}</option>\n      )\n    }) : null;\n    const doctorListHtml = doctorList ? doctorList.map((dr, key)=> {\n      return(\n        <option key={key} value={dr.fullname}>{dr.fullname}</option>\n      )\n    }) : null;\n    const drugRowsHtml = drugRows.map((drg, key)=>{\n      return(\n        <tr key={key}>\n          <td>{drg.drug}</td>\n          <td>{drg.dosage}</td>\n          <td>{drg.frequency}</td>\n          <td>{drg.route}</td>\n          <td>{drg.duration}</td>\n          <td>{drg.instructions}</td>\n        </tr>\n      )\n    })\n    let patients = patientList ? patientList.map((pat, key) =>{\n      return(\n        <tr key={key}>\n          <td onClick={()=> this.changePatient(pat)} className=\"link\">{pat.patientcode}</td>\n          <td>{pat.patientname}</td>\n          <td>{pat.gender === 'M' ? 'Male' : 'Female'}</td>\n          <td>{pat.dob}</td>\n        </tr>\n      )\n    }) : null;\n\n    return (\n      <div className=\"receipt_box\">\n        <header>\n          <div className=\"logo\">\n            <img src={process.env.PUBLIC_URL + \"/logo.png\"} />\n          </div>\n        </header>\n        <hr/>\n        <div className=\"prescription-tab\">\n          <section className=\"form_section no-print\">\n            {showPatientList ? <h2 className=\"text-center\">Prescription</h2> : null}\n            <input class=\"form-input w-auto\" placeholder=\"Enter Patient Code\" name=\"patientId\" type=\"number\" value={patientId} onChange={(e) => this.onInputchange}/>\n            <select class=\"form-select select-doctor w-auto\" value={doctor.fullname ? doctor.fullname: ''} onChange={(e) => this.setDoctor(e.target.value)}>\n              <option disabled selected value=\"\">Select Doctor</option>\n              {doctorListHtml}\n            </select>\n            <button className=\"btn btn-primary\" onClick={(e)=>this.showPrescriptionTemplate()}>Generate Prescription</button>\n            { showPatientList ?\n                <button className=\"btn btn-primary ml-10\" onClick={(e)=>this.getInvoiceListByPatient(e)}>Get Prescriptions</button>\n                : \n                <button className=\"btn btn-primary ml-10\" onClick={(e)=>this.showPatientList(e)}>Show Patient List</button>\n            }\n          </section>\n          {\n            patients && showPatientList ? \n            (\n              <section className=\"patient-list\">\n                <table className=\"table table-bordered\">\n                  <thead>\n                    <tr>\n                      <th>Patient Id</th>\n                      <th>Patient Name</th>\n                      <th>Gender</th>\n                      <th>DOB</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {patients}\n                  </tbody>\n                </table>\n              </section>\n            ) : ''\n          }\n\t\t\t\t\t{\n\t\t\t\t\t\t!showPatientList ? \n              <>\n                <section className=\"patient_detail\">\n                  <h2 className=\"text-center\">Prescription</h2>\n                  <p className=\"text-center mb-5\"></p>\n                  <div className=\"row\">\n                    <div className=\"col-sm-6 col-md-5\">\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Patient:</p>\n                        <span className=\"col-sm-8 col-md-4\">{patient.patientname}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Doctor:</p>\n                        <span className=\"col-sm-8 col-md-4\">{doctor.fullname ? doctor.fullname : ''}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">DOB:</p>\n                        <span className=\"col-sm-8 col-md-4\">{new Date(patient.dob).toLocaleDateString(\"en-UK\")}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Email:</p>\n-                       <span className=\"col-sm-8 col-md-4\">{patient.email}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Mobile No:</p>\n                        <span className=\"col-sm-8 col-md-4\">{patient.mobileno}</span>\n                      </div>\n                    </div>\n                    <div className=\"col-sm-6 col-md-4\">\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Patient Code:</p>\n                        <span className=\"col-sm-8 col-md-4\">{patient.patientcode}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Gender:</p>\n                        <span className=\"col-sm-8 col-md-4\">{patient.gender === 'M' ? 'Male' : patient.gender === 'F' ? 'Female' : 'Unknown'}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Date:</p>\n                        <span className=\"col-sm-8 col-md-4\">{new Date().toLocaleDateString(\"en-UK\")}</span>\n                      </div>\n                      <div className=\"row\">\n                        <p className=\"col-sm-4 col-md-4\">Age:</p>\n                        <span className=\"col-sm-8 col-md-4\">{Math.round(this.getAge(patient.dob))}</span>\n                      </div>\n                    </div>\n                  </div>\n                </section>\n                <hr/>\n                <div className=\"container no-print\">\n                  <h4 className=\"page-title\">Add Drugs</h4> \n                  <div className=\"row execute_container\">\n                    <div className=\"inputGroup col-md-6\">\n                      <label>Drug</label>                  \n                      <select class=\"form-select\" value={drugDetails.drugId > 0 ? drugDetails.drugId : 0} onChange={(e) => this.setField(e, 'drug')}>\n                        <option selected value=\"0\">Select Drug</option>\n                        {drugList}\n                      </select>\n                    </div>\n                    <div className=\"inputGroup col-md-3\">\n                      <label>Dosage</label>\n                      <input\n                        type=\"number\" step=\"any\"\n                        placeholder=\"Quantity\"\n                        value={drugDetails.dosage}\n                        onChange={(e) => this.setField(e, 'dosage')}\n                      />\n                    </div>\n                    <div className=\"inputGroup col-md-3\">\n                      <label>Frequency</label>\n                      <select class=\"form-select\" value={drugDetails.frequencyId > 0 ? drugDetails.frequencyId : 0} onChange={(e) => this.setField(e, 'frequency')}>\n                        <option selected>Select Frequency</option>\n                        {frequencyList}\n                      </select>\n                    </div>\n                    <div className=\"inputGroup col-md-3\" onChange={(e) => this.setField(e, 'route')}>\n                      <label>Route</label>\n                      <select class=\"form-select\" value={drugDetails.routeId > 0 ? drugDetails.routeId : 0} onChange={(e) => this.setField(e, 'route')}>\n                        <option selected>Select Route</option>\n                        {routeList}\n                      </select>\n                    </div>\n                    <div className=\"inputGroup col-md-3\">\n                      <label>Duration</label>\n                      <input\n                        type=\"number\" step=\"any\"\n                        value={drugDetails.duration}\n                        placeholder=\"Days\"\n                        onChange={(e) => this.setField(e, 'duration')}\n                      />\n                    </div>\n                    <div className=\"inputGroup col-md-6\">\n                      <label>Instructions</label>\n                      <textarea class=\"form-control rounded-0\" value={drugDetails.instructions} onChange={(e) => this.setField(e, 'instructions')}></textarea>\n                    </div>\n                    <div className=\"inputGroup offset-md-5 col-md-2 d-flex justify-content-center\">\n                    <button className=\"btn btn-primary ml-10\" onClick={(e)=>this.validateDrugDetails()}>Add</button>\n                    </div>\n                  </div>\n                </div>\n                <section className=\"drug_detail mb-5\">\n                  <table className=\"table table-bordered\">\n                    <thead>\n                      <tr>\n                        <th>Drug</th>\n                        <th>Dosage</th>\n                        <th>Frequency</th>\n                        <th>Route</th>\n                        <th>Duration</th>\n                        <th>Instructions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {drugRowsHtml}\n                    </tbody>\n                  </table>\n                </section>\n                <div className=\"row\">\n                  <div className=\"inputGroup col-sm-4 col-md-4\">\n                    <label>Diagnosis</label>\n                    <input\n                      type=\"text\" name=\"diagnosis\"\n                      value={this.state.diagnosis}\n                      placeholder=\"Diagnosis\"\n                      onChange={this.onPrescriptionInputchange}\n                    />\n                  </div>\n                  <div className=\"inputGroup col-sm-8 col-md-8\">\n                    <label>Patient Instructions</label>\n                    <textarea class=\"form-control rounded-0\" name=\"patientInstruction\" value={this.state.patientInstruction} onChange={this.onPrescriptionInputchange}></textarea>\n                  </div>\n                </div>\n                <hr/>\n                <section className=\"payment_detail mt-5\">\n                  <div className=\"row\">\n                    <p className=\"col-sm-2 col-md-1 text-end\">Provider:</p>\n                    <p className=\"col-sm-4 col-md-3 text-start\" >{doctor.fullname ? doctor.fullname : ''}</p>\n                    <p className=\"col-sm-2 col-md-1 text-end\">Licence No:</p>\n                    <p className=\"col-sm-4 col-md-3 text-start\" >{doctor.licence ? doctor.licence : ''}</p>\n                  </div>\n                </section>\n                <footer>\n                  <span className=\"text-center\">\n                    {CLINIC_NAME}\n                  </span>\n                  <span className=\"text-center\">{CLINIC_ADDRESS}</span>\n                  <span className=\"text-center\">\n                    {CLINIC_EMAIL}\n                  </span>\n                  <span className=\"text-end\">Powered by <b><i>DigiSol Ltd.</i></b></span>\n                </footer>\n                {\n                  showPrintButton ? \n                  <div className=\"row no-print justify-content-center\">\n                    <div className=\"col-sm-2 col-md-2 d-flex justify-content-center\">\n                      <button type=\"button\" className=\"btn btn-primary\" onClick={(e)=>this.validatePrescription()}>Save & Print</button>\n                    </div>\n                  </div> : null\n                }\n              </>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Prescription;"]},"metadata":{},"sourceType":"module"}